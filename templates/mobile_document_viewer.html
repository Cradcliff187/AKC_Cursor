{% extends "base.html" %}
{% from "components/mobile.html" import mobile_header, mobile_action_bar, mobile_content %}
{% from "components/buttons.html" import mobile_action_button %}

{% block title %}{{ document.document_name }} - Mobile View - AKC CRM{% endblock %}

{% block content %}
{{ mobile_header(document.document_name, back_url="/vendors/" ~ vendor.id ~ "/documents/mobile") }}

{% call mobile_content() %}
<div class="mobile-document-viewer">
    <div class="document-preview-container">
        <img src="{{ document.file_url }}" alt="{{ document.document_name }}" class="document-preview">
    </div>
    
    <div class="document-info p-3">
        <h6 class="text-muted mb-2">Document Information</h6>
        <p class="mb-1"><strong>Type:</strong> {{ document.document_type }}</p>
        <p class="mb-1"><strong>Uploaded:</strong> {{ document.upload_date }}</p>
        <p class="mb-1"><strong>Size:</strong> {{ document.file_size }}</p>
        {% if document.expiry_date %}
        <p class="mb-1"><strong>Expires:</strong> {{ document.expiry_date }}</p>
        {% endif %}
    </div>
</div>
{% endcall %}

{% call mobile_action_bar() %}
    {{ mobile_action_button("Download", "download", document.download_url, "primary", "flex-grow-1 mx-2") }}
    {{ mobile_action_button("Share", "share", "#", "outline-primary", "flex-grow-1 mx-2") }}
{% endcall %}
{% endblock %}

{% block extra_css %}
<style>
    .mobile-document-viewer {
        max-width: 100%;
        overflow-x: hidden;
    }
    
    .document-preview-container {
        position: relative;
        width: 100%;
        min-height: 60vh;
        background-color: #f8f9fa;
        border-radius: 8px;
        overflow: hidden;
    }
    
    .document-preview-container img {
        width: 100%;
        height: auto;
        object-fit: contain;
    }
    
    .document-info {
        background-color: #fff;
        border-radius: 8px;
        margin-top: 1rem;
    }
</style>
{% endblock %} 